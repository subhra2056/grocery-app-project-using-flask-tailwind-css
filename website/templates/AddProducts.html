{% extends 'base.html' %}


{% block title %} Home {% endblock %}

{% block body %}

<div class="max-w-3xl mx-auto p-6 bg-white rounded-2xl shadow-lg mt-10">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Add / Update Product</h2>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="mb-4">
        {% for category, message in messages %}
        <div class="relative bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded mb-2" role="alert">
            {{ message }}
            <!-- Close button -->
            <button type="button" class="absolute top-0 right-0 mt-1 mr-2 text-green-700 hover:text-red-900"
                onclick="this.parentElement.style.display='none';">
                &times;
            </button>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <form method="POST" enctype="multipart/form-data" class="space-y-5">
        {{ form.hidden_tag() }}

        <!-- Product Name -->
        <div>
            {{ form.product_name.label(class="block text-gray-700 font-medium mb-2") }}
            {{ form.product_name(class="w-full rounded-xl border border-gray-300 bg-gray-50 p-3 shadow-sm
            focus:border-green-500 focus:ring focus:ring-green-200") }}
            {% for error in form.product_name.errors %}
            <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- Product Price -->
        <div>
            {{ form.product_price.label(class="block text-gray-700 font-medium mb-2") }}
            {{ form.product_price(class="w-full rounded-xl border border-gray-300 bg-gray-50 p-3 shadow-sm
            focus:border-green-500 focus:ring focus:ring-green-200") }}
            {% for error in form.product_price.errors %}
            <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- In Stock -->
        <div>
            {{ form.product_in_stock.label(class="block text-gray-700 font-medium mb-2") }}
            {{ form.product_in_stock(class="w-full rounded-xl border border-gray-300 bg-gray-50 p-3 shadow-sm
            focus:border-green-500 focus:ring focus:ring-green-200") }}
            {% for error in form.product_in_stock.errors %}
            <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- Product Picture -->
        <div>
            {{ form.product_picture.label(class="block text-gray-700 font-medium mb-2") }}
            {{ form.product_picture(class="w-full rounded-xl border border-gray-300 bg-white p-2 shadow-sm
            focus:border-green-500 focus:ring focus:ring-green-200") }}
            {% for error in form.product_picture.errors %}
            <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- Top picks -->
        <div>
            {{ form.top_picks.label(class="block text-gray-700 font-medium mb-2") }}
            {{ form.top_picks(class="w-full rounded-xl border border-gray-300 bg-gray-50 p-3 shadow-sm
            focus:border-green-500 focus:ring focus:ring-green-200") }}
        
        </div>


        <!-- Buttons -->
        <div class="flex gap-4">
            {{ form.add_product(class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700") }}
            {{ form.update_product(class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700") }}
            <div class="ml-auto">
                <a href="/Shopitems"
                    class="inline-block px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700">
                    Go to shop items page
                </a>
            </div>
        </div>

    </form>
</div>


{% endblock %}